(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8d76"],{5731:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-row",[a("v-col",{attrs:{sm:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.listaTabelaHead,items:t.listaRecebimentos,loading:t.loadingTable,"loading-text":"Carregando ..."},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[a("v-btn",{staticStyle:{"margin-right":"10px"},attrs:{color:"orange",small:"",dark:""},on:{click:function(e){return t.editarModal(o)}}},[a("i",{staticClass:"fas fa-edit"})]),a("v-btn",{attrs:{color:"red",small:"",dark:""},on:{click:function(e){return t.deletar(o)}}},[a("i",{staticClass:"fas fa-trash"})])]}}])})],1)],1)],1),a("v-dialog",{attrs:{width:"500px"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("v-card",[a("v-card-title",{staticClass:"title"},[t._v(t._s("incluir"==this.insertModal?"Incluir Novo ganho":"Editar Ganho"))]),a("v-divider"),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{sm:"12"}},[a("v-text-field",{attrs:{clearable:"",outlined:"",label:"Tipo do recebimento"},model:{value:t.tipoRecebimento,callback:function(e){t.tipoRecebimento=e},expression:"tipoRecebimento"}})],1)],1),a("v-row",[a("v-col",{attrs:{sm:"12"}},[a("v-text-field",{attrs:{clearable:"",outlined:"",type:"date",label:"Data de Recebimento"},model:{value:t.dataRecebimento,callback:function(e){t.dataRecebimento=e},expression:"dataRecebimento"}})],1)],1),a("v-row",[a("v-col",{attrs:{sm:"12"}},[a("v-currency-field",{attrs:{clearable:"",outlined:"",label:"Valor"},model:{value:t.valor,callback:function(e){t.valor=e},expression:"valor"}})],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.fecharModal}},[t._v("cancelar")]),a("v-btn",{attrs:{color:"green",dark:""},on:{click:t.salvar}},[t._v("salvar")])],1)],1)],1),a("v-btn",{staticStyle:{position:"absolute",bottom:"25px",right:"25px"},attrs:{bottom:"",right:"",fab:"",color:"green",dark:""},on:{click:function(e){return t.abrirModal("incluir")}}},[a("i",{staticClass:"fas fa-plus"})])],1)},i=[],n=(a("8e6e"),a("456d"),a("bd86")),r=(a("ac6a"),a("deef"));function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var s={data:function(){return{insertModal:!1,id:null,valor:0,dataRecebimento:Date(),tipoRecebimento:"",loadingTable:!0,listaTabelaHead:[{text:"Tipo de Recebimento",value:"tipo",align:"center"},{text:"Valor",value:"valor",align:"center"},{text:"Data",value:"data",align:"center"},{text:"Ações",value:"actions",sortable:!1,align:"center"}],listaRecebimentos:[]}},computed:{modal:function(){return""!=this.insertModal},emailUser:function(){return this.$store.state.userLogin}},created:function(){var t=this;r["a"].collection("ganhos").get().then((function(e){e.forEach((function(e){e.data().email==t.emailUser&&t.listaRecebimentos.push(c({},e.data(),{id:e.id}))})),t.loadingTable=!1}))},methods:{salvar:function(){var t=this;"incluir"==this.insertModal?r["a"].collection("ganhos").add({valor:this.valor,data:this.dataRecebimento,tipo:this.tipoRecebimento,email:this.emailUser}).then((function(e){t.$toastr.s("Ganho incluído com sucesso!"),t.fecharModal(),t.updateList()}),(function(e){t.$toastr.e("Houve um erro ao incluir o registro!")})):"editar"==this.insertModal&&null!=this.id&&r["a"].collection("ganhos").doc(this.id).update({valor:this.valor,data:this.dataRecebimento,tipo:this.tipoRecebimento,email:this.emailUser}).then((function(){t.$toastr.s("Ganho editado com sucesso!"),t.fecharModal(),t.updateList()}),(function(e){t.$toastr.e("Houve um erro ao editar o ganho!")}))},editarModal:function(t){this.id=t.id,this.valor=t.valor,this.dataRecebimento=t.data,this.tipoRecebimento=t.tipo,this.abrirModal("editar")},deletar:function(t){var e=this;confirm("Tem certeza?")&&r["a"].collection("ganhos").doc(t.id).delete().then((function(){e.$toastr.s("Ganho excluído com sucesso!"),e.updateList()}),(function(t){e.$$toastr.e("Houve um erro ao excluir o ganho!")}))},updateList:function(){var t=this;r["a"].collection("ganhos").get().then((function(e){t.loadingTable=!0,t.listaRecebimentos=[],e.forEach((function(e){e.data().email==t.emailUser&&t.listaRecebimentos.push(c({},e.data(),{id:e.id}))})),t.loadingTable=!1}))},abrirModal:function(t){this.insertModal=t},fecharModal:function(){this.insertModal="",this.valor=0,this.dataRecebimento=null,this.tipoRecebimento=""}}},d=s,u=a("2877"),b=a("6544"),v=a.n(b),f=a("8336"),h=a("b0af"),m=a("99d9"),p=a("62ad"),g=a("a523"),R=a("8fea"),x=a("169a"),O=a("ce7e6"),k=a("0fd9"),w=a("2fa4"),y=a("8654"),M=Object(u["a"])(d,o,i,!1,null,null,null);e["default"]=M.exports;v()(M,{VBtn:f["a"],VCard:h["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:p["a"],VContainer:g["a"],VDataTable:R["a"],VDialog:x["a"],VDivider:O["a"],VRow:k["a"],VSpacer:w["a"],VTextField:y["a"]})}}]);
//# sourceMappingURL=chunk-2d0c8d76.b009be92.js.map